import { Elysia, t } from 'elysia'

const startTime = Date.now()

export const healthRoutes = new Elysia({ prefix: '/health' }).get(
  '/',
  () => ({
    status: 'ok' as const,
    timestamp: Date.now(),
    uptime: Date.now() - startTime,
  }),
  {
    response: t.Object({
      status: t.Union([t.Literal('ok'), t.Literal('error')]),
      timestamp: t.Number(),
      uptime: t.Number(),
    }),
  }
)
